<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Snake Game</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body, html {
height: 100%;
display: flex;
justify-content: center;
align-items: center;
font-family: 'Arial', sans-serif;
}

.container {
width: 400px;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
}

.wrapper {
display: flex;
flex-direction: column;
align-items: center;
}

.play-board {
width: 400px;
height: 400px;
border: 2px solid black;
background-color: #f0f0f0;
position: relative;
overflow: hidden;
}

.game-details {
margin-bottom: 20px;
display: flex;
justify-content: space-between;
width: 100%;
}

.score, .high-score {
font-size: 20px;
}

.controls {
display: flex;
justify-content: space-between;
width: 200px;
margin-top: 20px;
}

.controls i {
font-size: 30px;
cursor: pointer;
}

.instructions-wrapper {
margin-top: 20px;
text-align: center;
}

.reset-btn {
cursor: pointer;
}

.snake {
width: 10px;
height: 10px;
background-color: green;
position: absolute;
}

.food {
width: 10px;
height: 10px;
background-color: red;
position: absolute;
}
</style>
</head>
<body>
<div class="container">
<div class="wrapper">
<div class="game-details">
<span class="score">Score: 0</span>
<button class="reset-btn">Restart</button>
<span class="high-score">High Score: 0</span>
</div>
<div class="play-board"></div>
<div class="controls">
<i class="arrow left">←</i>
<i class="arrow up">↑</i>
<i class="arrow down">↓</i>
<i class="arrow right">→</i>
</div>
</div>
<div class="instructions-wrapper">
<p>Instructions:</p>
<ul>
<li>Use the arrow keys to move the snake.</li>
<li>Eat the red food to grow your snake.</li>
<li>Avoid colliding with the walls and the snake's body.</li>
</ul>
</div>
</div>
<script>
const playBoard = document.querySelector('.play-board');
const scoreElement = document.querySelector('.score');
const highScoreElement = document.querySelector('.high-score');
const resetBtn = document.querySelector('.reset-btn');
const controls = document.querySelectorAll('.controls i');

let snakeX = 10, snakeY = 10;
let velocityX = 0, velocityY = 0;
let snakeBody = [];
let foodX, foodY;
let score = 0;
let highScore = localStorage.getItem('high-score') || 0;

highScoreElement.innerText = `High Score: ${highScore}`;

const changeFoodPosition = () => {
foodX = Math.floor(Math.random() * 40) * 10;
foodY = Math.floor(Math.random() * 40) * 10;
}

const handleGameOver = () => {
alert("Game Over! Press OK to restart...");
location.reload();
}

const changeDirection = (e) => {
if (e.key === "ArrowUp" && velocityY != 1) {
velocityX = 0;
velocityY = -1;
} else if (e.key === "ArrowDown" && velocityY != -1) {
velocityX = 0;
velocityY = 1;
} else if (e.key === "ArrowLeft" && velocityX != 1) {
velocityX = -1;
velocityY = 0;
} else if (e.key === "ArrowRight" && velocityX != -1) {
velocityX = 1;
velocityY = 0;
}
}

const initGame = () => {
snakeX += velocityX * 10;
snakeY += velocityY * 10;

if (snakeX < 0 || snakeX >= 400 || snakeY < 0 || snakeY >= 400) {
return handleGameOver();
}

playBoard.innerHTML = `<div class="food" style="left: ${foodX}px; top: ${foodY}px;"></div>`;
snakeBody.push([snakeX, snakeY]);

if (snakeX === foodX && snakeY === foodY) {
changeFoodPosition();
score++;
scoreElement.innerText = `Score: ${score}`;
if (score > highScore) {
highScore = score;
localStorage.setItem('high-score', highScore);
highScoreElement.innerText = `High Score: ${highScore}`;
}
} else {
snakeBody.shift();
}

for (let i = 0; i < snakeBody.length; i++) {
playBoard.innerHTML += `<div class="snake" style="left: ${snakeBody[i][0]}px; top: ${snakeBody[i][1]}px;"></div>`;
if (i !== snakeBody.length - 1 && snakeBody[i][0] === snakeX && snakeBody[i][1] === snakeY) {
return handleGameOver();
}
}
}

changeFoodPosition();
setInterval(initGame, 100);
document.addEventListener('keydown', changeDirection);
</script>
</body>
</html>
